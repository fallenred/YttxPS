<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yttx.yttxps.mapper.TticketPriceMapper">
  <resultMap id="BaseResultMap" type="com.yttx.yttxps.model.Tticket">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 18 22:22:22 CST 2016.
    -->
    <id column="FS_NO" jdbcType="CHAR" property="fsNo" />
    <result column="FS_NAME" jdbcType="VARCHAR" property="fsName" />
    <result column="FS_SCENICNO" jdbcType="CHAR" property="fsScenicno" />
    <result column="FS_TYPE" jdbcType="CHAR" property="fsType" />
    <result column="FS_DESC" jdbcType="VARCHAR" property="fsDesc" />
    <result column="FI_STAT" jdbcType="DECIMAL" property="fiStat" />
    <result column="FS_SCENICNAME" jdbcType="CHAR" property="fsScenicname" />
  </resultMap>
  
  <!-- 分页查询总记录 -->
  <select id="selectCountSelective" parameterType="java.util.Map" resultType="int">
  	select count(*) from VIEW_TICKETPRICE
	     where 1=1
	      <if test="fsNo != null and fsNo != ''">
	        and fs_no = #{fsNo}
	      </if>
	      <if test="fsName != null and fsName != ''">
	        and fs_Name like '%'||#{fsName}||'%'
	      </if>
	      <if test="fsType != null and fsType != ''">
	        and fs_Type = #{fsType}
	      </if>
	      <if test="fiStat != null and fiStat != ''">
	        and fi_Stat = #{fiStat}
	      </if>
  </select>
  
  <!-- 分页查询 -->
  <select id="selectSelectivePage" parameterType="java.util.Map" resultMap="BaseResultMap">
      select * from (select ROWNUM as rowno, t.* from 
		VIEW_TICKETPRICE t
    	where 1=1
	      <if test="fsNo != null and fsNo != ''">
	        and fs_no = #{fsNo}
	      </if>
	      <if test="fsName != null and fsName != ''">
	        and fs_Name like '%'||#{fsName}||'%'
	      </if>
	      <if test="fsType != null and fsType != ''">
	        and fs_Type = #{fsType}
	      </if>
	      <if test="fiStat != null and fiStat != ''">
	        and fi_Stat = #{fiStat}
	      </if>
	      ) tt where 1=1
	      <if test="startrow != null">
	        and tt.rowno &gt;= #{startrow}
	      </if>
  </select>
  
  <select id="selectFsNo" resultType="int">
      select ticket_sequence.nextval from dual
  </select>
  
</mapper>